<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å­ç²æ‰“å¡æ—¥å¸¸</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Google Fonts: Montserrat -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Import Map: å®šç¾©æ¨¡çµ„ä¾†æº (ç§»é™¤ storageï¼Œæ”¹å›å–®ç´”çš„ firestore) -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "firebase/app": "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js",
        "firebase/auth": "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js",
        "firebase/firestore": "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js"
      }
    }
    </script>

    <style>
        /* éš±è—æ²è»¸ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        body {
            /* ä½¿ç”¨ Montserrat å­—é«” */
            font-family: 'Montserrat', sans-serif;
            background-color: #f3f4f6;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤æ‰‹æ©Ÿé»æ“Šé«˜äº® */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        
        // --- Firebase Imports ---
        import { initializeApp } from 'firebase/app';
        import { 
            getAuth, 
            onAuthStateChanged, 
            signInAnonymously, 
            signOut 
        } from 'firebase/auth';
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            onSnapshot, 
            query, 
            orderBy 
        } from 'firebase/firestore';

        // --- Icons Components (æ›¿ä»£ lucide-react) ---
        const IconBase = ({ size = 24, className = "", children }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const Droplets = (props) => <IconBase {...props}><path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.8-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/><path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"/></IconBase>;
        const BookOpen = (props) => <IconBase {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconBase>;
        const Camera = (props) => <IconBase {...props}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3z"/><circle cx="12" cy="13" r="3"/></IconBase>;
        const Home = (props) => <IconBase {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></IconBase>;
        const PlusCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const ImageIcon = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></IconBase>;
        const Send = (props) => <IconBase {...props}><line x1="22" x2="11" y1="2" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></IconBase>;
        const X = (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Heart = (props) => <IconBase {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></IconBase>;

        // --- Firebase Configuration ---
        const firebaseConfig = {
          apiKey: "AIzaSyBrMI4-2lczCGEc9baxL4hIVstyBCLojWE",
          authDomain: "makinsatdaka.firebaseapp.com",
          projectId: "makinsatdaka",
          storageBucket: "makinsatdaka.firebasestorage.app",
          messagingSenderId: "828692776788",
          appId: "1:828692776788:web:8d28603d904973db32aac1",
          measurementId: "G-HDL0ZZ0E7P"
        };

        // åˆå§‹åŒ– Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = 'makinsatdaka'; 

        // --- Helper: Image Compression ---
        // é€™å€‹å‡½æ•¸æœƒè‡ªå‹•æŠŠå¤§åœ–ç‰‡ç¸®å°ï¼Œé€™æ¨£å°±èƒ½ç›´æ¥å­˜é€²è³‡æ–™åº«ï¼Œä¸éœ€è¦é¡å¤–è¨­å®š Storage
        const compressImage = (file) => {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (event) => {
                    const img = new Image();
                    img.src = event.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        // è¨­å®šæœ€å¤§å¯¬åº¦ç‚º 800px (è¶³å¤ æ‰‹æ©Ÿè§€çœ‹ï¼Œä¸”æª”æ¡ˆæ¥µå°)
                        const MAX_WIDTH = 800;
                        let width = img.width;
                        let height = img.height;

                        if (width > MAX_WIDTH) {
                            height *= MAX_WIDTH / width;
                            width = MAX_WIDTH;
                        }

                        canvas.width = width;
                        canvas.height = height;

                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);

                        // å£“ç¸®æˆ JPEG, å“è³ª 0.6
                        const dataUrl = canvas.toDataURL('image/jpeg', 0.6);
                        resolve(dataUrl);
                    };
                };
            });
        };

        // --- Main App Component ---
        function App() {
          const [user, setUser] = useState(null);
          const [activeTab, setActiveTab] = useState('home');
          const [isModalOpen, setIsModalOpen] = useState(false);
          const [currentType, setCurrentType] = useState(null);
          const [inputText, setInputText] = useState('');
          const [selectedImage, setSelectedImage] = useState(null);
          const [posts, setPosts] = useState([]);
          const [isLoading, setIsLoading] = useState(true);
          const [isSubmitting, setIsSubmitting] = useState(false);

          const fileInputRef = useRef(null);

          // è‡ªå‹•åŒ¿åç™»å…¥
          useEffect(() => {
            const initAuth = async () => {
                try {
                    await signInAnonymously(auth);
                } catch (error) {
                    console.error("Auto login failed", error);
                }
            };
            initAuth();

            const unsubscribe = onAuthStateChanged(auth, (currentUser) => {
              setUser(currentUser);
              setIsLoading(false);
            });
            return () => unsubscribe();
          }, []);

          // Firebase Firestore è³‡æ–™ç›£è½
          useEffect(() => {
            if (!user) {
              setPosts([]);
              return;
            }

            const postsCollection = collection(db, 'artifacts', appId, 'users', user.uid, 'posts');
            const q = query(postsCollection); 

            const unsubscribe = onSnapshot(q, (snapshot) => {
              const loadedPosts = snapshot.docs.map(doc => ({
                id: doc.id,
                ...doc.data()
              }));
              
              // å®¢æˆ¶ç«¯æ’åº
              loadedPosts.sort((a, b) => {
                 if (a.createdAt && b.createdAt) {
                   return b.createdAt - a.createdAt;
                 }
                 return 0;
              });

              setPosts(loadedPosts);
            }, (error) => {
              console.error("è®€å–è³‡æ–™å¤±æ•—:", error);
            });

            return () => unsubscribe();
          }, [user]);

          const getTodayDate = () => {
            const d = new Date();
            return `${d.getFullYear()}.${String(d.getMonth() + 1).padStart(2, '0')}.${String(d.getDate()).padStart(2, '0')}`;
          };

          const handleImageChange = async (e) => {
            if (e.target.files && e.target.files[0]) {
              const file = e.target.files[0];
              
              // ç›´æ¥é€²è¡Œå£“ç¸®è™•ç†ï¼Œä¸ç®¡æª”æ¡ˆå¤šå¤§
              try {
                  const compressedBase64 = await compressImage(file);
                  setSelectedImage(compressedBase64);
              } catch (err) {
                  alert("åœ–ç‰‡è™•ç†å¤±æ•—ï¼Œè«‹é‡è©¦");
                  console.error(err);
              }
            }
          };

          const openCheckIn = (type) => {
            setCurrentType(type);
            setIsModalOpen(true);
            setInputText('');
            setSelectedImage(null);
            setIsSubmitting(false);
          };

          const handleSubmit = async () => {
            if (!inputText && !selectedImage) {
              alert("è«‹è¼¸å…¥æ–‡å­—æˆ–ä¸Šå‚³åœ–ç‰‡ï¼");
              return;
            }

            if (!user) {
              alert("æ­£åœ¨é€£ç·šä¸­ï¼Œè«‹ç¨å¾Œå†è©¦...");
              return;
            }

            if (isSubmitting) return;

            setIsSubmitting(true);

            try {
              // ç›´æ¥å„²å­˜ (å› ç‚ºåœ–ç‰‡å·²ç¶“å£“ç¸®éï¼Œå¯ä»¥ç›´æ¥å­˜å…¥ Firestore)
              const postsCollection = collection(db, 'artifacts', appId, 'users', user.uid, 'posts');
              
              await addDoc(postsCollection, {
                type: currentType.id,
                title: currentType.label,
                text: inputText,
                image: selectedImage, // é€™è£¡æ˜¯å£“ç¸®å¾Œçš„ Base64 å­—ä¸²
                date: getTodayDate(),
                time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false }),
                color: currentType.color,
                createdAt: Date.now()
              });

              setIsModalOpen(false);
            } catch (error) {
              console.error("å¯«å…¥éŒ¯èª¤: ", error);
              if (error.code === 'resource-exhausted') {
                 alert("ç™¼å¸ƒå¤±æ•—ï¼šå³ä¾¿å£“ç¸®å¾Œæª”æ¡ˆä»éå¤§ï¼Œè«‹é¸ä¸€å¼µç°¡å–®ä¸€é»çš„ç…§ç‰‡ã€‚");
              } else {
                 alert(`ç™¼å¸ƒå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€‚\néŒ¯èª¤è¨Šæ¯: ${error.message}`);
              }
            } finally {
              setIsSubmitting(false);
            }
          };

          const checkInTypes = [
            { id: 'water', label: 'å–æ°´ç´€éŒ„', icon: <Droplets size={24} />, color: 'bg-blue-500', bgColor: 'bg-blue-100', textColor: 'text-blue-600' },
            { id: 'english', label: 'è‹±æ–‡æ‰“å¡', icon: <BookOpen size={24} />, color: 'bg-orange-500', bgColor: 'bg-orange-100', textColor: 'text-orange-600' },
            { id: 'life', label: 'ç”Ÿæ´»æ—¥å¸¸', icon: <Camera size={24} />, color: 'bg-pink-500', bgColor: 'bg-pink-100', textColor: 'text-pink-600' },
          ];

          // æ¸²æŸ“ã€Œé¦–é ã€å…§å®¹
          const renderHome = () => (
            <div className="space-y-6 animate-in fade-in duration-500">
               {/* Buttons Grid */}
               <div className="space-y-3">
                  <h2 className="text-gray-700 font-bold text-lg flex items-center gap-2">
                    <span className="w-1 h-6 bg-green-500 rounded-full"></span>
                    ä»Šæ—¥ä»»å‹™
                  </h2>
                  <div className="grid grid-cols-3 gap-3">
                    {checkInTypes.map((item) => (
                      <button
                        key={item.id}
                        onClick={() => openCheckIn(item)}
                        className={`${item.color} text-white rounded-2xl h-24 flex flex-col items-center justify-center shadow-lg transform active:scale-95 transition-all duration-200`}
                      >
                        <div className="bg-white/20 p-2 rounded-full mb-1 backdrop-blur-sm">
                          {item.icon}
                        </div>
                        <span className="text-sm font-medium">{item.label}</span>
                      </button>
                    ))}
                  </div>
                </div>

                {/* Feed / History */}
                <div className="space-y-4">
                  <h2 className="text-gray-700 font-bold text-lg flex items-center gap-2">
                    <span className="w-1 h-6 bg-orange-400 rounded-full"></span>
                    æ‰“å¡å‹•æ…‹
                  </h2>
                  
                  {posts.length === 0 ? (
                    <div className="text-center text-gray-400 py-10">
                      {isLoading ? "è¼‰å…¥ä¸­..." : "ç›®å‰æ²’æœ‰ç´€éŒ„ï¼Œ\né»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹æ‰“å¡å§ï¼"}
                    </div>
                  ) : (
                    posts.map((post) => (
                      <div key={post.id} className="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300">
                        <div className="flex items-center justify-between mb-3">
                          <div className="flex items-center gap-2">
                            <span className={`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs ${post.color}`}>
                               {post.type === 'water' && <Droplets size={14}/>}
                               {post.type === 'english' && <BookOpen size={14}/>}
                               {post.type === 'life' && <Camera size={14}/>}
                            </span>
                            <div>
                              <h3 className="font-bold text-gray-800 text-sm">{post.title}</h3>
                              <div className="flex items-center text-gray-400 text-xs gap-1">
                                <Clock size={10} /> {post.time}
                              </div>
                            </div>
                          </div>
                        </div>
                        
                        <p className="text-gray-600 text-sm mb-3 whitespace-pre-wrap break-words">{post.text}</p>
                        
                        {post.image && (
                          <div className="rounded-xl overflow-hidden mb-2 border border-gray-100">
                            <img src={post.image} alt="Upload" className="w-full h-auto max-h-64 object-cover" />
                          </div>
                        )}
                        
                        <div className="flex justify-between items-center pt-2 border-t border-gray-50">
                           <div className="flex gap-4">
                             <button className="text-gray-400 hover:text-red-500 flex items-center gap-1 text-xs">
                               <Heart size={14} className="mr-1"/> è®š
                             </button>
                           </div>
                           <div className="text-xs text-gray-400 flex items-center gap-1">
                              <MapPin size={10} /> å°åŒ—å¸‚
                           </div>
                        </div>
                      </div>
                    ))
                  )}
                </div>
            </div>
          );

          // æ¸²æŸ“ã€Œæˆ‘çš„ã€å…§å®¹
          const renderMe = () => (
            <div className="space-y-6 animate-in fade-in duration-500">
                <div className="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex items-center gap-4">
                    <div className="w-20 h-20 bg-yellow-300 rounded-full flex items-center justify-center text-4xl border-4 border-white shadow-md">
                        ğŸ»
                    </div>
                    <div>
                        <h2 className="text-2xl font-bold text-gray-800">å­ç²</h2>
                        <span className="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">å“¡å·¥</span>
                        <p className="text-gray-400 text-xs mt-1">åŠ å…¥æ™‚é–“ï¼š2023.04.06</p>
                    </div>
                </div>

                <div className="grid grid-cols-3 gap-3 text-center">
                    <div className="bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                        <div className="text-xl font-bold text-blue-500">{posts.filter(p => p.type === 'water').length}</div>
                        <div className="text-xs text-gray-400">å–æ°´</div>
                    </div>
                    <div className="bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                        <div className="text-xl font-bold text-orange-500">{posts.filter(p => p.type === 'english').length}</div>
                        <div className="text-xs text-gray-400">è‹±æ–‡</div>
                    </div>
                    <div className="bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                        <div className="text-xl font-bold text-pink-500">{posts.filter(p => p.type === 'life').length}</div>
                        <div className="text-xs text-gray-400">æ—¥å¸¸</div>
                    </div>
                </div>
            </div>
          );

          // Main View
          return (
            <div className="min-h-screen bg-gray-50 flex flex-col font-sans max-w-md mx-auto shadow-2xl overflow-hidden relative">
              
              {/* Header */}
              <div className="bg-gradient-to-b from-green-400 to-green-600 pt-8 pb-4 px-6 rounded-b-[30px] shadow-md z-10 text-white relative">
                <div className="flex justify-between items-center mb-6">
                  <div className="flex items-center gap-3">
                     <div className="relative">
                        <div className="w-12 h-12 bg-yellow-300 rounded-full border-2 border-white flex items-center justify-center overflow-hidden">
                           <span className="text-2xl">ğŸ»</span> 
                        </div>
                        <div className="absolute -bottom-1 -right-1 bg-red-400 text-xs px-1 rounded-full border border-white">å­ç²</div>
                     </div>
                     <div className="flex flex-col">
                       <span className="font-bold text-lg">å­ç²æ‰“å¡æ—¥å¸¸</span>
                       <span className="text-xs opacity-90 text-green-100">ä»Šæ—¥ç›®æ¨™ï¼šå¤šå–æ°´ï¼</span>
                     </div>
                  </div>
                  <div className="flex flex-col items-end">
                     <div className="text-xl font-bold tracking-widest">{getTodayDate()}</div>
                     <div className="text-sm opacity-80">æ˜ŸæœŸäº”</div>
                  </div>
                </div>

                {/* Calendar Strip */}
                <div className="flex justify-between gap-2 mt-4 overflow-x-auto pb-2 no-scrollbar">
                   {['04 Thu', '05 Fri', '06 Sat', '07 Sun', '08 Mon'].map((date, idx) => (
                     <div key={idx} className={`flex flex-col items-center justify-center w-14 h-16 rounded-xl flex-shrink-0 ${idx === 1 ? 'bg-white text-green-600 shadow-lg scale-105' : 'bg-white/20 text-white'}`}>
                       <span className="text-lg font-bold">{date.split(' ')[0]}</span>
                       <span className="text-xs">{date.split(' ')[1]}</span>
                     </div>
                   ))}
                </div>
              </div>

              {/* Main Content Scrollable Area */}
              <div className="flex-1 overflow-y-auto pb-24 px-4 pt-6">
                  {activeTab === 'home' && renderHome()}
                  {activeTab === 'me' && renderMe()}
              </div>

              {/* Check-in Modal */}
              {isModalOpen && currentType && (
                <div className="absolute inset-0 z-50 flex items-end justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200">
                  <div className="bg-white w-full rounded-t-[30px] p-6 shadow-2xl transform transition-transform duration-300 flex flex-col max-h-[85vh]">
                    <div className="flex justify-between items-center mb-4">
                      <div className="flex items-center gap-2">
                        <div className={`p-2 rounded-full ${currentType.bgColor} ${currentType.textColor}`}>
                          {currentType.icon}
                        </div>
                        <h3 className="text-xl font-bold text-gray-800">{currentType.label}</h3>
                      </div>
                      <button onClick={() => setIsModalOpen(false)} className="p-2 bg-gray-100 rounded-full hover:bg-gray-200">
                        <X size={20} className="text-gray-500" />
                      </button>
                    </div>

                    <div className="flex-1 overflow-y-auto">
                        <textarea
                          className="w-full bg-gray-50 rounded-xl p-4 text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-300 resize-none mb-4 min-h-[120px]"
                          rows="4"
                          placeholder={`åˆ†äº«ä¸€ä¸‹ä½ çš„${currentType.label}å§...`}
                          value={inputText}
                          onChange={(e) => setInputText(e.target.value)}
                        ></textarea>

                        {selectedImage && (
                          <div className="relative mb-4 w-24 h-24">
                            <img src={selectedImage} alt="Preview" className="w-full h-full object-cover rounded-lg border" />
                            <button 
                              onClick={() => setSelectedImage(null)}
                              className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-md"
                            >
                              <X size={12} />
                            </button>
                          </div>
                        )}
                    </div>

                    <div className="flex items-center justify-between pt-4 mt-auto">
                      <div className="flex gap-2">
                        <button 
                          onClick={() => fileInputRef.current.click()}
                          className="p-3 rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition"
                        >
                          <ImageIcon size={24} />
                        </button>
                        <input 
                          type="file" 
                          ref={fileInputRef} 
                          className="hidden" 
                          accept="image/*"
                          onChange={handleImageChange}
                        />
                      </div>
                      
                      <button 
                        type="button"
                        onClick={handleSubmit}
                        disabled={isSubmitting}
                        className={`px-8 py-3 rounded-full font-bold shadow-lg flex items-center gap-2 transition transform active:scale-95 ${
                            isSubmitting 
                            ? 'bg-gray-400 text-white cursor-not-allowed' 
                            : 'bg-green-600 text-white shadow-green-200 hover:bg-green-700'
                        }`}
                      >
                        {isSubmitting ? 'ç™¼å¸ƒä¸­...' : (
                            <>ç™¼å¸ƒ <Send size={18} /></>
                        )}
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Bottom Navigation */}
              <div className="absolute bottom-0 w-full bg-white border-t border-gray-100 px-8 py-2 flex justify-between items-end pb-6 z-40">
                
                {/* 1. é¦–é æŒ‰éˆ• */}
                <button 
                  onClick={() => setActiveTab('home')}
                  className={`flex flex-col items-center gap-1 w-16 ${activeTab === 'home' ? 'text-green-600' : 'text-gray-400'}`}
                >
                  <Home size={28} strokeWidth={activeTab === 'home' ? 2.5 : 2} />
                  <span className="text-xs font-medium">é¦–é </span>
                </button>
                
                {/* 2. ä¸­å¤®æ‰“å¡å¤§æŒ‰éˆ• */}
                <div className="relative -top-5">
                  <button 
                    onClick={() => openCheckIn(checkInTypes[2])}
                    className="w-16 h-16 bg-gradient-to-tr from-green-500 to-emerald-400 rounded-full shadow-lg shadow-green-200 flex items-center justify-center text-white border-4 border-white transform active:scale-95 transition"
                  >
                     <PlusCircle size={32} />
                  </button>
                </div>

                {/* 3. æˆ‘çš„æŒ‰éˆ• */}
                <button 
                  onClick={() => setActiveTab('me')}
                  className={`flex flex-col items-center gap-1 w-16 ${activeTab === 'me' ? 'text-green-600' : 'text-gray-400'}`}
                >
                  <User size={28} strokeWidth={activeTab === 'me' ? 2.5 : 2} />
                  <span className="text-xs font-medium">æˆ‘çš„</span>
                </button>
              </div>

            </div>
          );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
